<mat-horizontal-stepper
  labelPosition="bottom"
  #stepper
  (selectionChange)="stepChanged($event)"
  [selectedIndex]="selectedStepperIndex"
>
  <ng-template matStepperIcon="edit">
    <mat-icon>done</mat-icon>
  </ng-template>
  <mat-step>
    <ng-template matStepLabel>
      <span
        class="step-label"
        [ngClass]="{'step-label--selected': selectedStepperIndex === 0}"
      >
        {{ 'home.new-experiment.overview.text' | translate }}
      </span>
    </ng-template>
    <home-experiment-overview
      [experimentInfo]="experimentInfo"
      (emitExperimentDialogEvent)="getExperimentData($event)"
    ></home-experiment-overview>
  </mat-step>

  <mat-step>
    <ng-template matStepLabel>
      <span
        class="step-label"
        [ngClass]="{'step-label--selected': selectedStepperIndex === 1}"
      >
        {{ 'home.new-experiment.experiment-design.text' | translate }}
      </span>
    </ng-template>
    <home-experiment-design
      [experimentInfo]="experimentInfo"
      [disableControls]="data?.stepperIndex === 1"
      (emitExperimentDialogEvent)="getExperimentData($event)"
    ></home-experiment-design>
  </mat-step>

  <mat-step>
    <ng-template matStepLabel>
      <span
        class="step-label"
        [ngClass]="{'step-label--selected': selectedStepperIndex === 2}"
      >
        {{ 'home.new-experiment.schedule.text' | translate }}
      </span>
    </ng-template>
    <home-experiment-schedule
    (emitExperimentDialogEvent)="getExperimentData($event)"
    [experimentInfo]="experimentInfo"
    [assignmentUnit]="newExperimentData?.assignmentUnit"
    ></home-experiment-schedule>
  </mat-step>
</mat-horizontal-stepper>
